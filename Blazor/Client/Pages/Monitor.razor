@page "/"
@using SnnbDB.ModelExt

<PageTitle>Monitor</PageTitle>
<RadzenRow>
    <RadzenColumn Size="12">
        <RadzenText Text="Monitor" TextStyle="TextStyle.H3" TagName="TagName.H1" Style="width: 1010px; height: 62px" />
    </RadzenColumn>
</RadzenRow>


<RadzenCard Style="width: 456px; height: 60px">
    <RadzenRow>
        <RadzenText Text="Server Time:" TextStyle="Radzen.Blazor.TextStyle.H5" TagName="TagName.H1" Style="width: 129px; height: 27px" />
        <RadzenText Text="@DataTimeStamp" TextStyle="Radzen.Blazor.TextStyle.H5" TagName="TagName.H1" Style="width: 188px; height: 22px" />
    </RadzenRow>
</RadzenCard>

<RadzenPanel Collapsed="false" AllowCollapse="true" Class=" rz-mx-auto" Style="width: 1231px; float: left; padding-top: 10px; padding-bottom: 10px; margin-bottom: 10px; margin-top: 10px">
    <HeaderTemplate>
        <RadzenRow JustifyContent="JustifyContent.Start" AlignItems="AlignItems.Center" Gap="0" Style="width: 1000px; height: 57px">
            <RadzenColumn Size="5" Style="width: 260px; height: 30px; display: flex">
                <RadzenIcon Icon="dvr" class="rz-mr-1" />
                <RadzenText Text="Primary network path" TextStyle="Radzen.Blazor.TextStyle.H5" Class="rz-display-flex rz-align-items-center rz-m-0" Style="width: 284px; height: 22px; padding: 10px"></RadzenText>
            </RadzenColumn>
            <RadzenColumn Size="7">
                <RadzenStack AlignItems="AlignItems.Center" Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.End">
                    <RadzenText Text="Status" TextStyle="Radzen.Blazor.TextStyle.H6" Style=@StatusStyles[@StatusStylesIndex] TextAlign="Radzen.TextAlign.Center" />
                    <RadzenText TextStyle="Radzen.Blazor.TextStyle.H6" Style=@PathStyles[@PathStylesIndex] TextAlign="Radzen.TextAlign.Center" Text="@PrimaryPathTxt" />
                </RadzenStack>
            </RadzenColumn>
        </RadzenRow>
    </HeaderTemplate>

    <ChildContent>
        <RadzenDataGrid TItem="RtMonitorTable" Style="float: none; width: 1200px; margin-top: 10px" Data="@MonitorTablePrimary"
                        CellRender="@CellRender" HeaderCellRender="@HeaderFooterCellRender" ShowColumnTitleAsTooltip="false" ShowCellDataAsTooltip="false">
            <Columns>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="DateTimeStamp" Title="Time" Frozen="true" Width="200px">
                    <Template Context = "data">
                        <RadzenStack Style="vertical-align: bottom; height: 32px; padding: 3px; width: 196px" Wrap="Radzen.FlexWrap.NoWrap" Orientation="Radzen.Orientation.Horizontal" JustifyContent="Radzen.JustifyContent.Left">
                            <RadzenLabel Text="AA" style="background-color: #8d2108; width: 20px; color: #8d2108" />
                            <RadzenText Context = "data2" Text= data2.DateTimeStamp Style="width: 150px"/>
                        </RadzenStack>
                    </Template>
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="UnitName" Title="Name" Frozen="true" Width="110px"></RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="RemoteUnit" Title="Remote" Width="110px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Title="Peer" Property="PeerUnit" Width="110px"></RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="CommsOk" Title="Communication" Width="70px">
 @*                    <Template  Context = "data" >
                           @if (data.CommsOkAlert )
                            {
                                CommsText = "True";
                            }
                            else
                            {
                            @CommsText = "False";
                              
                            }
                            <RadzenStack Style="width: 44px; height: 26px">
                            <RadzenLabel Text=@CommsText />

                        </RadzenStack>
                    </Template>*@
                 </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Title="Message" Property="CommMessage" Width="120px"></RadzenDataGridColumn>


                <RadzenDataGridColumn TItem="RtMonitorTable" Property="OnePpsPresent" Title="1PPS" Width="60px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="TenMhzLocked" Title="10MHz" Width="60px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="MeasuredDelay" Title="Delay" Width="100px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="MeasuredNetworkRate" Title="Stream" Width="100px"></RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="StreamEnable" Title="IP stream Enb" Width="60px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="RfOutputEnable" Title="RFout Enb" Width="60px"></RadzenDataGridColumn>



            </Columns>
        </RadzenDataGrid>
    </ChildContent>
</RadzenPanel>

<RadzenPanel Collapsed="true" AllowCollapse="true" Class=" rz-mx-auto" Style="width: 1231px; float: left; padding-bottom: 10px; padding-top: 10px">
    <HeaderTemplate>
        <RadzenRow JustifyContent="JustifyContent.Start" AlignItems="AlignItems.Center" Gap="0" Style="width: 1000px; height: 57px; vertical-align: top">
            <RadzenColumn Size="5" Style="width: 260px; height: 30px; display: flex">
                <RadzenIcon Icon="dvr" class="rz-mr-1" />
                <RadzenText Text="Secondary network path" TextStyle="Radzen.Blazor.TextStyle.H5" Class="rz-display-flex rz-align-items-center rz-m-0" Style="width: 259px; height: 22px; padding: 10px"></RadzenText>
            </RadzenColumn>
            <RadzenColumn Size="7">
                <RadzenStack AlignItems="AlignItems.Center" Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.End">
                    <RadzenText Text="Status" TextStyle="Radzen.Blazor.TextStyle.H6" Style="width: 112px; height: 31px; border-radius: 6px; vertical-align: bottom; padding-top: 4px; margin-top: 4px" TextAlign="Radzen.TextAlign.Center" class=@SecondaryStatus />
<RadzenText TextStyle="Radzen.Blazor.TextStyle.H6" Style="width: 170px; height: 31px; border-radius: 6px; vertical-align: bottom; padding-top: 4px; margin-top: 4px; margin-left: 20px" TextAlign="Radzen.TextAlign.Center" class=@SecondaryPath Text="@SecondaryPathTxt" />
                </RadzenStack>
            </RadzenColumn>
        </RadzenRow>
    </HeaderTemplate>

    <ChildContent>
        <RadzenDataGrid TItem="RtMonitorTable" Style="float: none; width: 1200px" Data="@MonitorTableSecondary"
                        CellRender="@CellRender" HeaderCellRender="@HeaderFooterCellRender" ShowColumnTitleAsTooltip="false" ShowCellDataAsTooltip="false">
            <Columns>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="DateTimeStamp" Title="Time" Frozen="true" Width="150px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="UnitName" Title="Name" Frozen="true" Width="110px"></RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="RemoteUnit" Title="Remote" Width="110px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Title="Peer" Property="PeerUnit" Width="110px"></RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="CommsOk" Title="Communication" Width="60px"> </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Title="Message" Property="CommMessage" Width="120px"></RadzenDataGridColumn>


                <RadzenDataGridColumn TItem="RtMonitorTable" Property="OnePpsPresent" Title="1PPS" Width="60px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="TenMhzLocked" Title="10MHz" Width="60px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="MeasuredDelay" Title="Delay" Width="100px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="MeasuredNetworkRate" Title="Stream" Width="100px"></RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="StreamEnable" Title="IP stream Enb" Width="60px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="RfOutputEnable" Title="RFout Enb" Width="60px"></RadzenDataGridColumn>



            </Columns>
        </RadzenDataGrid>
    </ChildContent>
</RadzenPanel>


