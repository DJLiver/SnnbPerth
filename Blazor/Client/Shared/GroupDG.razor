@using SnnbDB.ModelExt


<RadzenPanel Collapsed="true" AllowCollapse="true" Class=" rz-mx-auto" Style="float: left; padding-top: 10px; padding-bottom: 10px; margin-bottom: 10px; margin-top: 10px; width: 1350px">
    <HeaderTemplate>
        <RadzenRow JustifyContent="JustifyContent.Start" AlignItems="AlignItems.Center" Gap="0" Style="width: 1000px; height: 57px">
            <RadzenColumn Size="5" Style="width: 260px; height: 30px; display: flex">
                <RadzenIcon Icon="dvr" class="rz-mr-1" />
                <RadzenText Text=@TitleText TextStyle="Radzen.Blazor.TextStyle.H5" Class="rz-display-flex rz-align-items-center rz-m-0" Style="width: 284px; height: 22px; padding: 10px"></RadzenText>
            </RadzenColumn>
            <RadzenColumn Size="7">
                <RadzenStack AlignItems="AlignItems.Center" Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.End" Style="width: 657px">
                    <RadzenText Text="Fault status" TextStyle="Radzen.Blazor.TextStyle.H6" Style=@StatusStyles[@StatusStylesIndex] TextAlign="Radzen.TextAlign.Center" />
                    <RadzenText TextStyle="Radzen.Blazor.TextStyle.H6" Style=@PathStyles[@PathStylesIndex] TextAlign="Radzen.TextAlign.Center" Text="@PathText" />
                </RadzenStack>
            </RadzenColumn>
        </RadzenRow>
    </HeaderTemplate>

    <ChildContent>
        <RadzenDataGrid TItem="RtMonitorTable" Style="float: none; width: 1300px; margin-top: 10px" Data="@MonitorTable"
                        CellRender="@CellRender" HeaderCellRender="@HeaderFooterCellRender" ShowColumnTitleAsTooltip="true" ShowCellDataAsTooltip="true">
            <Columns>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="DateTimeStamp" Title="Time" Frozen="true" Width="200px">
                    <Template Context="data">

                        @if (data.DateTimeStampAlert)
                        {
                            <RadzenText Text=@data.DateTimeStamp Style="width: 150px; border-left: 4px solid #8d2108; padding-left: 4px; margin-top: 7px"></RadzenText>
                        }
                        else
                        {
                            <RadzenText Text=@data.DateTimeStamp Style="width: 150px; border-left: 4px solid #1e801d; padding-left: 4px; margin-top: 7px"></RadzenText>

                        }

                    </Template>
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="UnitName" Title="Name" Frozen="true" Width="110px"></RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="RemoteUnit" Title="Remote" Width="110px"></RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Title="Peer" Property="PeerUnit" Width="110px"></RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="CommsOk" Title="Communication" Width="80px">
                    <Template Context="data">
                        @if (data.CommsOkAlert)
                        {
                            <RadzenText Text=@data.CommsOk Style="width: 80px; border-left: 4px solid #8d2108; padding-left: 4px; margin-top: 7px"></RadzenText>
                        }
                        else
                        {
                            <RadzenText Text=@data.CommsOk Style="width: 80px; border-left: 4px solid #1e801d; padding-left: 4px; margin-top: 7px"></RadzenText>

                        }
                    </Template>
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Title="Message" Property="CommMessage" Width="120px"></RadzenDataGridColumn>


                <RadzenDataGridColumn TItem="RtMonitorTable" Property="OnePpsPresent" Title="1PPS" Width="75px">
                    <Template Context="data">
                        @if (data.CommsOkAlert)
                        {
                            <RadzenText Text="NA" Style="width: 80px;  padding-left: 4px; margin-top: 7px; background-color: #343130"></RadzenText>
                        }
                        else
                        {
                            if (data.OnePpsPresentAlert)
                            {
                                <RadzenText Text=@data.OnePpsPresent Style="width: 80px; border-left: 4px solid #8d2108; padding-left: 4px; margin-top: 7px"></RadzenText>

                            }
                            else
                            {
                                <RadzenText Text=@data.OnePpsPresent Style="width: 80px; border-left: 4px solid #1e801d; padding-left: 4px; margin-top: 7px"></RadzenText>

                            }

                        }
                    </Template>

                </RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="TenMhzLocked" Title="10MHz" Width="75px">
                    <Template Context="data">
                        @if (data.CommsOkAlert)
                        {
                            <RadzenText Text="NA" Style="width: 80px;  padding-left: 4px; margin-top: 7px; background-color: #343130"></RadzenText>
                        }
                        else
                        {
                            @if (data.TenMhzLockedAlert)
                            {
                                <RadzenText Text=@data.TenMhzLocked Style="width: 80px; border-left: 4px solid #8d2108; padding-left: 4px; margin-top: 7px"></RadzenText>
                            }
                            else
                            {
                                <RadzenText Text=@data.TenMhzLocked Style="width: 80px; border-left: 4px solid #1e801d; padding-left: 4px; margin-top: 7px"></RadzenText>

                            }
                        }
                    </Template>

                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="MeasuredDelay" Title="Delay" Width="120px">
                    <Template Context="data">
                        @if (data.CommsOkAlert)
                        {
                            <RadzenText Text="NA" Style="width: 100px;  padding-left: 4px; margin-top: 7px; background-color: #343130"></RadzenText>
                        }
                        else
                        {
                            @if (data.MeasuredDelayAlert)
                            {
                                <RadzenText Text=@data.MeasuredDelay Style="width: 100px; border-left: 4px solid #8d2108; padding-left: 4px; margin-top: 7px"></RadzenText>
                            }
                            else
                            {
                                <RadzenText Text=@data.MeasuredDelay Style="width: 100px; border-left: 4px solid #1e801d; padding-left: 4px; margin-top: 7px"></RadzenText>

                            }
                        }
                    </Template>

                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="MeasuredNetworkRate" Title="Stream" Width="120px">
                    <Template Context="data">
                        @if (data.CommsOkAlert)
                        {
                            <RadzenText Text="NA" Style="width: 110px;  padding-left: 4px; margin-top: 7px; background-color: #343130"></RadzenText>
                        }
                        else
                        {
                            @if (data.MeasuredNetworkRateAlert)
                            {
                                <RadzenText Text=@data.MeasuredNetworkRate Style="width: 110px; border-left: 4px solid #8d2108; padding-left: 4px; margin-top: 7px"></RadzenText>
                            }
                            else
                            {
                                <RadzenText Text=@data.MeasuredNetworkRate Style="width: 110px; border-left: 4px solid #1e801d; padding-left: 4px; margin-top: 7px"></RadzenText>

                            }
                        }
                    </Template>

                </RadzenDataGridColumn>

                <RadzenDataGridColumn TItem="RtMonitorTable" Property="StreamEnable" Title="IP stream Enb" Width="80px">
                    <Template Context="data">
                        @if (data.CommsOkAlert)
                        {
                            <RadzenText Text="NA" Style="width: 80px;  padding-left: 4px; margin-top: 7px; background-color: #343130"></RadzenText>
                        }
                        else
                        {
                            @if (data.StreamEnableAlert)
                            {
                                <RadzenText Text=@data.StreamEnable Style="width: 80px; border-left: 4px solid #8d2108; padding-left: 4px; margin-top: 7px"></RadzenText>
                            }
                            else
                            {
                                <RadzenText Text=@data.StreamEnable Style="width: 80px; border-left: 4px solid #1e801d; padding-left: 4px; margin-top: 7px"></RadzenText>

                            }
                        }
                    </Template>
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="RtMonitorTable" Property="RfOutputEnable" Title="RFout Enb" Width="80px">
                    <Template Context="data">
                        @if (data.CommsOkAlert)
                        {
                            <RadzenText Text="NA" Style="width: 80px;  padding-left: 4px; margin-top: 7px; background-color: #343130"></RadzenText>
                        }
                        else
                        {
                            @if (data.RfOutputEnableAlert)
                            {
                                <RadzenText Text=@data.RfOutputEnable Style="width: 80px; border-left: 4px solid #8d2108; padding-left: 4px; margin-top: 7px"></RadzenText>
                            }
                            else
                            {
                                <RadzenText Text=@data.RfOutputEnable Style="width: 80px; border-left: 4px solid #1e801d; padding-left: 4px; margin-top: 7px"></RadzenText>

                            }
                        }
                    </Template>

                </RadzenDataGridColumn>



            </Columns>
        </RadzenDataGrid>
    </ChildContent>
</RadzenPanel>


